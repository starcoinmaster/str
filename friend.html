<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invite Friends</title>
    <link rel="stylesheet" href="friend.css">
    <link rel="stylesheet" href="tap.css">
</head>
<body>
    <div class="main-container">
        <div class="invite-container">
            <div class="invite-header">
                <h2>Invite Friends</h2>
                <button class="invite" onclick="copyReferralLink()">Invite</button>
            </div>

            <!-- Transparent box with light color message -->
            <div class="transparent-box">
                <p>Invite friends to claim your referral rewards</p>
            </div>

            <!-- Displaying the users who joined through the referral link -->
            <div class="friends-list" id="friendsList">
                <p>Friends who joined:</p>
                <ul id="joinedFriends"></ul>
            </div>
        </div>

        <!-- Menu section -->
        <div class="menu-container">
            <div class="round-box"></div>
            <div class="menu">
                <a href="index.html"><img src="tap.png" alt="Tap" class="menu-icon"></a>
                <a href="friend.html"><img src="friend.png" alt="Friend" class="menu-icon"></a>
                <a href="task.html"><img src="task.png" alt="Task" class="menu-icon"></a>
                <a href="withdraw.html"><img src="withdraw.png" alt="Withdraw" class="menu-icon"></a>
            </div>
        </div>
    </div>

    <script>
        const userName = localStorage.getItem('userName'); // Assuming you store the user's name in localStorage
        const referralLink = `https://shorturl.at/6Avu4?referral=${userName}`;

        function copyReferralLink() {
            navigator.clipboard.writeText(referralLink).then(() => {
                alert('Referral link copied to clipboard');
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }

        // Function to display joined friends
        function displayJoinedFriends() {
            const joinedFriends = JSON.parse(localStorage.getItem('joinedFriends')) || [];
            const friendsList = document.getElementById('joinedFriends');
            friendsList.innerHTML = ''; // Clear existing list

            joinedFriends.forEach(friend => {
                const li = document.createElement('li');
                li.textContent = friend;
                friendsList.appendChild(li);
            });
        }

        // Call this function to display joined friends on page load
        displayJoinedFriends();
    </script>
</body>
</html>
